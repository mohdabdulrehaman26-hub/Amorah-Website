<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Job Openings — Amorah Group</title>
  <meta name="description" content="Explore current openings at Amorah Group. Apply for IT, Non-IT, International and Remote roles." />
  <link rel="icon" href="https://amorahgroup.in/wp-content/uploads/2025/10/cropped-Amorah-Logo-PNG-1.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous" defer></script>

  <style>
    :root {
      /* White Theme Palette */
      --primary-deep: #ffffff;
      --accent-cyan: #00d4ff;
      --accent-royal: #4f46e5;
      
      /* Glass / Card Settings */
      --glass: #ffffff;
      --glass-border: #e2e8f0;
      --text-light: #1e293b;
      --text-muted: #64748b;
      --card-shadow: 0 10px 30px -10px rgba(0,0,0,0.08);
    }

    body { 
      font-family: 'Poppins', sans-serif; 
      background: var(--primary-deep); 
      color: var(--text-light); 
      -webkit-font-smoothing: antialiased;
    }
    
    /* Background Gradient */
    .page-bg {
        position: fixed; inset: 0; pointer-events: none; z-index: -1;
        background: radial-gradient(ellipse at top, #f1f5f9 0%, #ffffff 100%);
    }

    /* Header Scroll State */
    header { transition: all 0.4s ease-in-out; }
    header.scrolled { 
      background: rgba(255, 255, 255, 0.95); 
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 20px -5px rgba(0,0,0,0.05); 
    }

    /* Premium Cards */
    .modern-card {
        background: #ffffff;
        border-radius: 24px;
        border: 1px solid var(--glass-border);
        box-shadow: var(--card-shadow);
        transition: all 0.3s ease;
    }

    /* Job Row Styling */
    .job-row {
        background: #ffffff;
        border: 1px solid #e2e8f0;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .job-row:hover {
        transform: translateY(-4px);
        box-shadow: 0 15px 30px -5px rgba(79, 70, 229, 0.1);
        border-color: var(--accent-royal);
    }

    /* Form Elements */
    .input-light {
        background: #f8fafc; border: 1px solid #e2e8f0; color: #1e293b;
        transition: all 0.2s;
    }
    .input-light:focus { background: #fff; border-color: var(--accent-royal); ring: 2px; outline: none; }

    /* Chips */
    .chip {
        background: #f1f5f9; color: #64748b; border: 1px solid transparent; font-weight: 600; font-size: 0.85rem; transition: all 0.3s;
    }
    .chip:hover, .chip.active {
        background: linear-gradient(90deg, var(--accent-royal), var(--accent-cyan));
        color: white; 
        box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
    }
    .chip[data-chip="Clear"]:hover { background: #ef4444; color: white; }

    /* Premium Buttons */
    .btn-premium {
      position: relative;
      background: linear-gradient(90deg, var(--accent-royal), var(--accent-cyan), var(--accent-royal));
      background-size: 200% auto;
      color: white; font-weight: 700; 
      transition: all 0.4s ease;
      box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
      display: inline-flex; align-items: center; justify-content: center;
    }
    .btn-premium:hover {
      background-position: right center;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);
    }

    .divider { height:1px; background: #f1f5f9; }
    
    /* Mobile Menu */
    body.menu-open { overflow: hidden; }
    #mobileMenu .dropdown-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
    #mobileMenu .dropdown-content.open { max-height: 300px; }
    
    /* --- FOOTER OVERRIDES --- */
    /* Force Footer Background to White */
    #footer { background-color: #ffffff !important; }
    
    /* Force Footer Social Media Icons to BLACK */
    #footer i.fab { color: #000000 !important; } 
    
    /* Keep white only on hover state */
    #footer a:hover i.fab { color: #ffffff !important; }
  </style>
</head>
<body class="antialiased">
  <div class="page-bg"></div>

  <div id="header"></div>

  <div id="mobileMenu" class="fixed inset-0 bg-white/98 backdrop-blur-xl z-40 hidden flex-col p-8 text-slate-800 overflow-y-auto transition-all opacity-0 scale-95">
    <div class="flex justify-between items-center mb-8">
        <img src="https://amorahgroup.in/wp-content/uploads/2025/10/cropped-Amorah-Logo-PNG-1.png" alt="Amorah Group logo" class="h-10">
        <button id="closeMenu" class="text-4xl text-indigo-600"><i class="fas fa-times"></i></button>
    </div>
    
    <div class="flex flex-col gap-6 text-xl font-bold">
        <a href="/" class="hover:text-indigo-600 transition">Home</a>
        <div>
            <button class="mobile-dropdown-toggle flex items-center justify-between w-full text-indigo-600 transition">Services <i class="fas fa-chevron-down transition-transform"></i></button>
            <div class="dropdown-content pl-4 text-lg text-slate-600 flex flex-col gap-3 mt-3">
                <a href="/services#it">IT & Software</a>
                <a href="/services#recruitment">Recruitment</a>
                <a href="/services#training">Training & Placement</a>
            </div>
        </div>
        <div>
            <button class="mobile-dropdown-toggle flex items-center justify-between w-full hover:text-indigo-600 transition">Overseas <i class="fas fa-chevron-down transition-transform"></i></button>
            <div class="dropdown-content pl-4 text-lg text-slate-600 flex flex-col gap-3 mt-3">
                <a href="/overseas">Student Visa</a>
                <a href="/overseas">Visit Visa</a>
                <a href="/overseas">PR Visa</a>
            </div>
        </div>
        <a href="/blog" class="hover:text-indigo-600 transition">Blog</a>
        <a href="/about" class="hover:text-indigo-600 transition">About Us</a>
        <a href="#contact" class="btn-premium px-10 py-4 text-center mt-4 rounded-full">Contact Us</a>
    </div>
  </div>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 py-24 md:py-32">
    
    <div class="flex flex-col md:flex-row items-center justify-between mb-12" data-aos="fade-down">
        <div class="md:w-1/2">
            <span class="inline-block px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-sm font-bold mb-4 border border-indigo-100">CAREERS AT AMORAH</span>
            <h1 class="text-4xl md:text-6xl font-black text-slate-900 leading-tight mb-6">
                Find Your Next <br class="hidden md:block">Great <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-cyan-500">Opportunity.</span>
            </h1>
            <p class="text-lg text-slate-600 max-w-lg leading-relaxed">Explore remote, on-site, and international roles. Join a team driven by innovation and growth.</p>
        </div>
        <div class="md:w-1/2 mt-10 md:mt-0 flex justify-end relative">
            <div class="absolute inset-0 bg-indigo-400/20 blur-[100px] rounded-full"></div>
            <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People%20with%20activities/Woman%20Technologist.png" alt="Careers Illustration" class="w-64 md:w-80 drop-shadow-2xl relative z-10 animate-bounce-slow" />
        </div>
    </div>

    <div class="modern-card p-6 md:p-8 mb-10 bg-white" data-aos="fade-up" data-aos-delay="100">
      <div class="flex flex-col lg:flex-row gap-5 lg:items-end">
        <div class="flex-[2]">
          <label class="text-slate-700 text-sm font-bold uppercase tracking-wider ml-1 mb-2 block">Search Jobs</label>
          <div class="relative">
              <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
              <input id="q" type="text" placeholder="Try 'React Developer' or 'Remote'..."
                     class="w-full pl-11 pr-4 py-3.5 rounded-xl input-light placeholder-slate-400" />
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 w-full lg:flex-[3]">
          <select id="filterCat" class="px-3 py-3.5 rounded-xl input-light cursor-pointer appearance-none text-slate-700">
            <option value="">All Categories</option>
            <option>IT</option>
            <option>Non-IT</option>
            <option>International</option>
            <option>Remote</option>
          </select>
          <select id="filterLoc" class="px-3 py-3.5 rounded-xl input-light cursor-pointer appearance-none text-slate-700">
            <option value="">All Locations</option>
          </select>
          <select id="filterExp" class="px-3 py-3.5 rounded-xl input-light cursor-pointer appearance-none text-slate-700">
            <option value="">Any Experience</option>
            <option>Fresher</option>
            <option>0–2 Years</option>
            <option>2–5 Years</option>
            <option>5–8 Years</option>
            <option>8+ Years</option>
          </select>
          <select id="sortBy" class="px-3 py-3.5 rounded-xl input-light cursor-pointer appearance-none text-slate-700">
            <option value="date_desc">Newest First</option>
            <option value="date_asc">Oldest First</option>
            <option value="salary_desc">Salary (High → Low)</option>
            <option value="salary_asc">Salary (Low → High)</option>
          </select>
        </div>
      </div>

      <div class="flex flex-wrap items-center gap-3 mt-6 pt-6 border-t border-slate-100">
        <span class="text-sm font-semibold text-slate-500 mr-2">Quick Filters:</span>
        <button class="chip px-4 py-2 rounded-full" data-chip="IT">IT & Tech</button>
        <button class="chip px-4 py-2 rounded-full" data-chip="Non-IT">Non-IT / Ops</button>
        <button class="chip px-4 py-2 rounded-full" data-chip="International">International</button>
        <button class="chip px-4 py-2 rounded-full" data-chip="Remote">Remote Ready</button>
        <button class="chip px-4 py-2 rounded-full hover:bg-red-50 text-red-500 border border-transparent hover:border-red-200" data-chip="Clear"><i class="fas fa-times mr-1"></i> Clear All</button>
      </div>
    </div>

    <div class="flex items-center justify-between mt-8 mb-4 px-2" data-aos="fade-up" data-aos-delay="200">
      <h2 id="count" class="text-slate-800 text-xl font-bold"></h2>
      <div class="text-slate-500 text-sm flex items-center gap-2">
        <i class="far fa-hand-pointer animate-bounce text-indigo-500"></i> Tip: Click a job to see details
      </div>
    </div>

    <section id="jobList" class="space-y-6 pb-10" data-aos="fade-up" data-aos-delay="300"></section>

    <div id="emptyState" class="hidden flex-col items-center justify-center py-20 text-center">
        <img src="https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/Smilies/Disappointed%20Face.png" alt="No Results" class="w-24 mb-4 grayscale opacity-50">
        <h3 class="text-xl font-bold text-slate-700 mb-2">No jobs found matching your criteria.</h3>
        <p class="text-slate-500">Try adjusting your filters or search keywords.</p>
    </div>

  </main>

  <template id="row-tpl">
    <article class="job-row rounded-2xl overflow-hidden cursor-pointer group">
      <div class="flex items-stretch">
        <div class="w-20 md:w-28 flex items-center justify-center bg-slate-50 border-r border-slate-100 group-hover:bg-indigo-50/50 transition-colors">
          <img class="w-12 h-12 md:w-14 md:h-14 p-1 rounded-xl object-contain bg-white shadow-sm border border-slate-100"
               alt="Company" />
        </div>

        <div class="flex-1 p-5 md:p-7">
          <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4">
            <div>
              <h3 class="text-xl md:text-2xl font-black text-slate-900 leading-tight group-hover:text-indigo-600 transition-colors"></h3>
              <div class="mt-2 flex flex-wrap gap-2 text-xs md:text-sm font-semibold">
                <span class="px-3 py-1 rounded-md bg-indigo-50 text-indigo-700 border border-indigo-100 flex items-center gap-1"><i class="fas fa-map-marker-alt"></i> <span class="loc-text"></span></span>
                <span class="px-3 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-100 flex items-center gap-1"><i class="fas fa-briefcase"></i> <span class="exp-text"></span></span>
                <span class="px-3 py-1 rounded-md bg-purple-50 text-purple-700 border border-purple-100 flex items-center gap-1"><i class="fas fa-tag"></i> <span class="cat-text"></span></span>
              </div>
            </div>
            <div class="flex flex-wrap items-center gap-4 mt-2 lg:mt-0 lg:text-right lg:flex-col lg:items-end lg:gap-2">
              <span class="text-slate-700 font-bold text-lg salary-text"></span>
              <a class="btn-premium px-6 py-3 rounded-xl whitespace-nowrap text-sm flex items-center gap-2 shadow-md"
                 target="_blank" rel="noopener">
                 Apply Now <i class="fas fa-external-link-alt text-xs opacity-70"></i>
              </a>
            </div>
          </div>

          <div class="divider my-5"></div>

          <p class="summary-text text-slate-600 text-sm md:text-base line-clamp-2 leading-relaxed"></p>

          <div class="details hidden mt-6 pt-4 border-t border-slate-100">
            <div class="grid md:grid-cols-3 gap-8 text-sm">
              <div>
                <p class="text-slate-900 font-bold mb-3 flex items-center gap-2"><i class="fas fa-check-circle text-indigo-500"></i> Must-have Skills</p>
                <ul class="space-y-2 text-slate-600 skills"></ul>
              </div>
              <div>
                <p class="text-slate-900 font-bold mb-3 flex items-center gap-2"><i class="fas fa-plus-circle text-emerald-500"></i> Nice-to-have</p>
                <ul class="space-y-2 text-slate-600 nice"></ul>
              </div>
              <div>
                <p class="text-slate-900 font-bold mb-3 flex items-center gap-2"><i class="fas fa-tasks text-purple-500"></i> Key Responsibilities</p>
                <ul class="space-y-2 text-slate-600 resp"></ul>
              </div>
            </div>

            <div class="mt-6 pt-4 border-t border-slate-100 text-xs text-slate-400 flex items-center justify-between">
              <span>Job ID: <span class="font-mono text-slate-600 job-id"></span></span>
              <span>Posted: <span class="posted-date text-slate-600"></span></span>
            </div>
          </div>

          <div class="mt-4 flex justify-center text-indigo-500 text-sm font-bold expand-hint group-hover:translate-y-1 transition-transform">
             <span class="flex items-center gap-1">Show Details <i class="fas fa-chevron-down"></i></span>
          </div>
        </div>
      </div>
    </article>
  </template>

  <script type="application/json" id="jobs-fallback">
  {
    "jobs": [
      {
        "id": "AMR-IT-001",
        "title": "Senior Software Engineer (React + Node)",
        "category": "IT",
        "department": "Engineering",
        "companyIcon": "https://cdn-icons-png.flaticon.com/512/5968/5968292.png",
        "location": "Hyderabad",
        "experience": "5–8 Years",
        "salary": "₹18–26 LPA",
        "summary": "Build high-performance web apps, lead code reviews, mentor juniors, and collaborate with cross-functional teams to deliver scalable solutions.",
        "skills": ["React", "Node.js", "REST/GraphQL", "SQL/NoSQL", "CI/CD Pipelines"],
        "nice": ["AWS Services", "Microservices Arch", "Docker", "Kubernetes"],
        "responsibilities": ["End-to-end feature delivery", "Ensuring code quality & standards", "Mentoring junior devs", "Stakeholder communication"],
        "postedOn": "2025-11-07"
      },
      {
        "id": "AMR-NIT-002",
        "title": "HR Executive — Talent Acquisition",
        "category": "Non-IT",
        "department": "HR",
        "companyIcon": "https://cdn-icons-png.flaticon.com/512/2645/2645897.png",
        "location": "Hyderabad",
        "experience": "2–5 Years",
        "salary": "₹4–7 LPA",
        "summary": "Manage end-to-end recruitment lifecycle, coordinate interviews, handle onboarding tasks, and maintain ATS data accuracy.",
        "skills": ["Candidate Sourcing", "Screening Profiles", "Interviewing Skills"],
        "nice": ["LinkedIn Recruiter Mastery", "Advanced Excel/Sheets"],
        "responsibilities": ["Creating compelling JDs", "Managing candidate pipelines", "Coordinating interview schedules"],
        "postedOn": "2025-11-08"
      },
      {
        "id": "AMR-INT-003",
        "title": "Mechanical Technician (Saudi Arabia)",
        "category": "International",
        "department": "Operations",
        "companyIcon": "https://cdn-icons-png.flaticon.com/512/741/741407.png",
        "location": "Riyadh, Saudi Arabia",
        "experience": "3–6 Years",
        "salary": "SAR 4,500–6,000",
        "summary": "Perform hands-on maintenance, repairs, and troubleshooting for heavy industrial machinery in a manufacturing setting.",
        "skills": ["Industrial Maintenance", "Tools Proficiency", "Safety Protocols", "Reporting"],
        "nice": ["Basic Arabic", "Previous Gulf experience"],
        "responsibilities": ["Routine machinery checks", "Preventive maintenance", "Ensuring safety compliance"],
        "postedOn": "2025-11-05"
      },
      {
        "id": "AMR-REM-004",
        "title": "Customer Success Specialist (Remote)",
        "category": "Remote",
        "department": "Support",
        "companyIcon": "https://cdn-icons-png.flaticon.com/512/1087/1087927.png",
        "location": "Remote — India",
        "experience": "0–2 Years",
        "salary": "₹3–5 LPA",
        "summary": "Own customer queries via tickets/chat, guide product adoption, and capture feedback to improve user experience.",
        "skills": ["Written Communication", "Ticketing Systems", "Documentation"],
        "nice": ["SaaS support experience", "Basic SQL knowledge"],
        "responsibilities": ["Adhering to SLAs", "Closing feedback loops", "Updating Help Center articles"],
        "postedOn": "2025-11-06"
      }
    ]
  }
  </script>

  <script>
    // Initialize Animations
    AOS.init({ duration: 800, once: true, offset: 50 });

    // Header Scroll Effect
    const header = document.getElementById('header'); // Fixed to match previous components
    window.addEventListener('scroll', () => {
      if(window.scrollY > 20) header.classList.add('scrolled');
      else header.classList.remove('scrolled');
    });

    // 3. Mobile Menu (Added explicitly for consistency)
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMenu = document.getElementById('closeMenu');
    const dropdownToggles = document.querySelectorAll('.mobile-dropdown-toggle');

    if (menuBtn && mobileMenu) {
      menuBtn.addEventListener('click', () => {
        mobileMenu.classList.remove('hidden');
        setTimeout(() => {
            mobileMenu.classList.remove('opacity-0', 'scale-95');
            mobileMenu.classList.add('opacity-100', 'scale-100');
        }, 10);
        document.body.classList.add('menu-open');
      });

      const closeMenuFn = () => {
        mobileMenu.classList.remove('opacity-100', 'scale-100');
        mobileMenu.classList.add('opacity-0', 'scale-95');
        setTimeout(() => { mobileMenu.classList.add('hidden'); }, 300);
        document.body.classList.remove('menu-open');
      };
      closeMenu.addEventListener('click', closeMenuFn);

      dropdownToggles.forEach(toggle => {
          toggle.addEventListener('click', (e) => {
              e.preventDefault();
              const content = toggle.nextElementSibling;
              const icon = toggle.querySelector('.fa-chevron-down');
              content.classList.toggle('open');
              icon.classList.toggle('rotate-180');
          });
      });
    }

    // ---------- Config: Google Form Prefill ----------
    const FORM_BASE = "https://docs.google.com/forms/d/e/1FAIpQLSec4-gLShcqzaB6eUb5YddwZmjfiDXjIlrjlp2FgkYml8IL7A/viewform?usp=pp_url";
    const JOB_TITLE_ENTRY_ID = "entry.2115087545";

    function buildFormUrl(jobTitle) {
      const u = new URL(FORM_BASE);
      u.searchParams.set(JOB_TITLE_ENTRY_ID, jobTitle);
      return u.toString();
    }

    // ---------- Load jobs (try jobs.json, else fallback) ----------
    let JOBS = [];
    async function loadJobs() {
      try {
        const res = await fetch('jobs.json', { cache: 'no-store' });
        if (!res.ok) throw new Error('jobs.json not found');
        const data = await res.json();
        JOBS = data.jobs || [];
      } catch (e) {
        const data = JSON.parse(document.getElementById('jobs-fallback').textContent);
        JOBS = data.jobs || [];
      }
    }

    // ---------- Rendering ----------
    const jobList = document.getElementById('jobList');
    const emptyState = document.getElementById('emptyState');
    const rowTpl = document.getElementById('row-tpl');

    function salaryToNumber(s) {
      if (!s) return 0;
      const cleaned = s.replace(/[₹$SAR,]/g, '').trim();
      const m = cleaned.replace(/[^0-9\-.]/g,'').split('-').map(Number);
      if (!m.length || isNaN(m[0])) return 0;
      return (m[0] + (m[1]||m[0]))/2;
    }

    function render(jobs){
      jobList.innerHTML = '';
      if(jobs.length === 0) {
          jobList.classList.add('hidden');
          emptyState.classList.remove('hidden');
          document.getElementById('count').textContent = `0 Jobs Found`;
          return;
      }
      jobList.classList.remove('hidden');
      emptyState.classList.add('hidden');

      const frag = document.createDocumentFragment();
      jobs.forEach((j, index) => {
        const clone = rowTpl.content.cloneNode(true);
        const article = clone.querySelector('article');
        article.setAttribute('data-aos', 'fade-up');
        article.setAttribute('data-aos-delay', (index * 100).toString());

        const img = clone.querySelector('img');
        img.src = j.companyIcon || 'https://cdn-icons-png.flaticon.com/512/5968/5968292.png';
        img.alt = j.department || 'Dept';

        clone.querySelector('h3').textContent = j.title;
        clone.querySelector('.loc-text').textContent = j.location;
        clone.querySelector('.exp-text').textContent = j.experience || 'Not specified';
        clone.querySelector('.cat-text').textContent = j.category;

        clone.querySelector('.salary-text').textContent = j.salary ? j.salary : '';

        clone.querySelector('.summary-text').textContent = j.summary || '';

        const btn = clone.querySelector('a.btn-premium');
        btn.href = buildFormUrl(j.title);

        // details
        const details = clone.querySelector('.details');
        const expandHint = clone.querySelector('.expand-hint');
        const skills = clone.querySelector('.skills');
        const nice = clone.querySelector('.nice');
        const resp = clone.querySelector('.resp');
        clone.querySelector('.job-id').textContent = j.id || '—';
        clone.querySelector('.posted-date').textContent = j.postedOn || '—';

        const createListItems = (arr, container) => {
            if(!arr || arr.length === 0) {
                container.innerHTML = '<li class="text-slate-400 italic">None specified</li>';
                return;
            }
            arr.forEach(s => {
                const li = document.createElement('li');
                li.className = 'flex items-start gap-2';
                li.innerHTML = `<i class="fas fa-chevron-right text-indigo-400 mt-1 text-xs"></i> <span>${s}</span>`;
                container.appendChild(li);
            });
        }

        createListItems(j.skills, skills);
        createListItems(j.nice, nice);
        createListItems(j.responsibilities, resp);

        // toggle details on click
        article.addEventListener('click', (e) => {
          if (e.target.closest('a.btn-premium')) return;
          details.classList.toggle('hidden');
          const isHidden = details.classList.contains('hidden');
          expandHint.innerHTML = isHidden ? 'Show Details <i class="fas fa-chevron-down"></i>' : 'Hide Details <i class="fas fa-chevron-up"></i>';
          expandHint.classList.toggle('text-indigo-500', isHidden);
          expandHint.classList.toggle('text-slate-400', !isHidden);
        });

        frag.appendChild(clone);
      });
      jobList.appendChild(frag);
      document.getElementById('count').textContent = `${jobs.length} Job${jobs.length !== 1 ? 's' : ''} Available`;
      AOS.refresh();
    }

    // ---------- Filters / Search / Sort ----------
    const q = document.getElementById('q');
    const filterCat = document.getElementById('filterCat');
    const filterLoc = document.getElementById('filterLoc');
    const filterExp = document.getElementById('filterExp');
    const sortBy = document.getElementById('sortBy');
    const chips = document.querySelectorAll('[data-chip]');

    function distinct(values) {
      return [...new Set(values.filter(Boolean))].sort((a,b) => a.localeCompare(b));
    }

    function applyAll() {
      const text = q.value.trim().toLowerCase();
      const cat = filterCat.value;
      const loc = filterLoc.value;
      const exp = filterExp.value;

      chips.forEach(c => {
          c.classList.toggle('active', c.dataset.chip === cat && cat !== '');
      });

      let rows = JOBS.filter(j => {
        const hay = (j.title + ' ' + (j.summary||'') + ' ' + (j.skills||[]).join(' ') + ' ' + (j.nice||[]).join(' ')).toLowerCase();
        const okText = !text || hay.includes(text);
        const okCat  = !cat || j.category === cat;
        const okLoc  = !loc || j.location === loc;
        const okExp  = !exp || (j.experience||'').toLowerCase().includes(exp.toLowerCase().replace(' years','').replace('+','').trim());
        return okText && okCat && okLoc && okExp;
      });

      switch (sortBy.value) {
        case 'date_desc':
          rows.sort((a,b) => (b.postedOn||'').localeCompare(a.postedOn||''));
          break;
        case 'date_asc':
          rows.sort((a,b) => (a.postedOn||'').localeCompare(b.postedOn||''));
          break;
        case 'salary_desc':
          rows.sort((a,b) => salaryToNumber(b.salary) - salaryToNumber(a.salary));
          break;
        case 'salary_asc':
          rows.sort((a,b) => salaryToNumber(a.salary) - salaryToNumber(b.salary));
          break;
      }

      render(rows);
    }

    chips.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const v = btn.dataset.chip;
        if (v === 'Clear') {
            filterCat.value = '';
            q.value = '';
            filterLoc.value = '';
            filterExp.value = '';
        } else if (filterCat.value === v) {
            filterCat.value = '';
        } else {
            filterCat.value = v;
        }
        applyAll();
      });
    });

    [q, filterCat, filterLoc, filterExp, sortBy].forEach(el => {
      el.addEventListener('input', applyAll);
      el.addEventListener('change', applyAll);
    });

    (async function init(){
      await loadJobs();
      const locs = distinct(JOBS.map(j => j.location));
      filterLoc.innerHTML = '<option value="">All Locations</option>' + locs.map(l => `<option>${l}</option>`).join('');
      applyAll();
    })();
  </script>
<div id="header"></div>
<script src="header.js"></script>

<div id="footer"></div>
<script src="footer.js"></script>


    <!-- injected-links-scripts -->
    <script src="links/external-links.js"></script>
    <script src="links/links-init.js"></script>
    <!-- Razorpay helper (uses server-side create-payment.php) -->
    <script>
    async function openPaymentLink(payload){ 
      try{
        const res = await fetch('payment/create-payment.php', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(payload || {})
        });
        const data = await res.json();
        if(data && data.short_url) window.open(data.short_url, '_blank');
        else alert('Payment link creation failed.');
      } catch(e){ console.error(e); alert('Payment error'); }
    }
    </script>
    <!-- end injected-links-scripts -->
    
</body>
</html>